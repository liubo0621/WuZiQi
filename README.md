# 五子棋

### 一、棋盘封装

**棋盘数据结构**  

````
struct ChessBoard{
	int type;
	Sprite * chess;
}
ChessBoard[15][15] chessBoard;
````

**所下棋子数据结构**
	

	Vector<Chess> chesses;

`已知`

棋盘左下角格子的起始坐标、格子宽度、总格子数  

**method：**  

* 下子
* 悔棋  
* 重玩  
* 检测是否连成五子

***下子***

1. 为棋盘注册Touch监听事件
2. 触摸屏幕时将屏幕坐标转换为棋盘坐标 
3. 将棋盘坐标转换为格子坐标
4. 判断是否超出边界 或 此位置是否下过子
5. 将格子坐标转化为棋盘坐标
6. 在此位置添加棋子，并标记该格子下子类型
7. 将该棋子储存到表中，悔棋时用
8. 更新下子方
9. 检测是否连成五子

***悔棋***

1. 检测棋子表是否为空， 空则返回
2. 从表末位抛出棋子，并把该子在棋盘上删除
3. 更新下子方 （因为下子后更新了一回，轮到对方下子，所以此处更新下，则己方下子）

***重玩***

1. 清空棋盘上的棋子（removeAllChildren）
2. 清空棋盘数组
3. 清空棋子数组

***检测是否连成五子***

1. 所需参数为 格子的行、列以及棋子类型
2. 求该位置的左斜，右斜，水平，竖直四个方向同类棋子的个数( 分上半部分，和下半部分分别计算，然后加上当前棋子 )，超出棋盘边界或者当前格子处的棋子类型不等于所传参数的棋子类型时，返回。
3. 如果棋子个数大于等于5， 则连成五子

### 二、游戏基类分装



